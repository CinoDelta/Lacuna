[gd_scene load_steps=20 format=3 uid="uid://dffw7ogio4hw6"]

[ext_resource type="Script" path="res://Scripts/Global/battle.gd" id="1_s088x"]
[ext_resource type="Texture2D" uid="uid://chwry8w5riibi" path="res://Assets/Sprites/MiscSprites/PlaceholderPlayerP.png" id="2_b0yqc"]
[ext_resource type="Theme" uid="uid://bli24837s4wbp" path="res://Assets/Themes/Thamoiras.tres" id="2_edys4"]
[ext_resource type="Texture2D" uid="uid://b76ki6f43kau8" path="res://Assets/Sprites/MiscSprites/PlaceholderBox.png" id="2_jxn8f"]
[ext_resource type="Theme" uid="uid://25nh0v5d7y1b" path="res://Assets/Themes/basicText.tres" id="3_7ko0y"]
[ext_resource type="Texture2D" uid="uid://cniflqpycfgax" path="res://Assets/Sprites/Battle/StatusConditions/Poisoned.png" id="3_ev4bj"]
[ext_resource type="Theme" uid="uid://byvtha8ricedj" path="res://Assets/Themes/transparentstuff.tres" id="4_6af57"]
[ext_resource type="Texture2D" uid="uid://c1bjve3ydfl3g" path="res://Assets/Sprites/Battle/DisplaySprites/Selections/Selection.png" id="4_likxi"]
[ext_resource type="SpriteFrames" uid="uid://bsfw85cjfjyvg" path="res://Assets/Sprites/Battle/DisplaySprites/Enemies/DebugBoy.tres" id="8_xwmyp"]
[ext_resource type="Texture2D" uid="uid://ds8l87qec8y6i" path="res://Assets/Sprites/MiscSprites/PrototypeBattleBox.png" id="9_bshqe"]
[ext_resource type="SpriteFrames" uid="uid://cfurixtwnp536" path="res://Assets/Sprites/Battle/DisplaySprites/PartySpriteAnimations/Alistair.tres" id="9_iopbk"]
[ext_resource type="Material" uid="uid://b0mad586t5q10" path="res://Assets/Sprites/Battle/Backgrounds/Shaders/Debug.tres" id="10_karwh"]
[ext_resource type="Texture2D" uid="uid://cwff51t3lrprl" path="res://Assets/Sprites/Battle/Backgrounds/Debug.png" id="10_y4552"]
[ext_resource type="AudioStream" uid="uid://bsuu6vxtit4ai" path="res://Assets/Sounds/DefaultTextBox.mp3" id="11_jo0um"]
[ext_resource type="AudioStream" uid="uid://c52lqokbyl4p7" path="res://Assets/Sounds/selectSound.wav" id="14_6h02j"]
[ext_resource type="AudioStream" uid="uid://ddtr617js65cj" path="res://Assets/Sounds/WeirdOnesApproaching.ogg" id="16_4uec0"]
[ext_resource type="AudioStream" uid="uid://4g0wxn244y28" path="res://Assets/Sounds/BattleIntro.wav" id="17_4qeh0"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_u2i3t"]
bg_color = Color(0.376471, 0.611765, 0.894118, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_f8xi8"]

[node name="Battle" type="Control"]
z_index = 21
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 324.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 0
size_flags_vertical = 4
script = ExtResource("1_s088x")
metadata/battleId = 1

[node name="OptionsPanel" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_top = -152.0
offset_right = 712.0
theme = ExtResource("2_edys4")

[node name="OptionsContainer" type="HBoxContainer" parent="OptionsPanel"]
texture_filter = 1
custom_minimum_size = Vector2(64, 64)
layout_mode = 0
offset_left = 160.0
offset_top = 39.0
offset_right = 459.0
offset_bottom = 87.0
scale = Vector2(2, 2)
pivot_offset = Vector2(149, 27)
theme_override_constants/separation = 30
alignment = 1

[node name="Attack" type="TextureRect" parent="OptionsPanel/OptionsContainer"]
custom_minimum_size = Vector2(64, 48)
layout_mode = 2
texture = ExtResource("2_jxn8f")
expand_mode = 1
stretch_mode = 4

[node name="Highlight" type="TextureRect" parent="OptionsPanel/OptionsContainer/Attack"]
layout_mode = 0
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("4_likxi")

[node name="Special" type="TextureRect" parent="OptionsPanel/OptionsContainer"]
custom_minimum_size = Vector2(64, 48)
layout_mode = 2
texture = ExtResource("2_jxn8f")
expand_mode = 1
stretch_mode = 4

[node name="Highlight" type="TextureRect" parent="OptionsPanel/OptionsContainer/Special"]
layout_mode = 0
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("4_likxi")

[node name="Item" type="TextureRect" parent="OptionsPanel/OptionsContainer"]
custom_minimum_size = Vector2(64, 48)
layout_mode = 2
texture = ExtResource("2_jxn8f")
expand_mode = 1
stretch_mode = 4

[node name="Highlight" type="TextureRect" parent="OptionsPanel/OptionsContainer/Item"]
layout_mode = 0
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("4_likxi")

[node name="Defend" type="TextureRect" parent="OptionsPanel/OptionsContainer"]
custom_minimum_size = Vector2(64, 48)
layout_mode = 2
texture = ExtResource("2_jxn8f")
expand_mode = 1
stretch_mode = 4

[node name="Highlight" type="TextureRect" parent="OptionsPanel/OptionsContainer/Defend"]
layout_mode = 0
offset_right = 64.0
offset_bottom = 64.0
texture = ExtResource("4_likxi")

[node name="SubMenu" type="Panel" parent="OptionsPanel"]
visible = false
layout_mode = 0
offset_top = 120.0
offset_right = 320.0
offset_bottom = 320.0

[node name="PlayerPanels" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_top = 696.0
offset_right = 1152.0
offset_bottom = 820.0
theme = ExtResource("2_edys4")

[node name="PlayerPanelsContainer" type="HBoxContainer" parent="PlayerPanels"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 0
offset_left = 50.0
offset_top = 15.0
offset_right = 1102.0
offset_bottom = 105.0
theme_override_constants/separation = 15
alignment = 1

[node name="SampleMember" type="Panel" parent="PlayerPanels/PlayerPanelsContainer"]
visible = false
z_index = 1
custom_minimum_size = Vector2(250, 0)
layout_mode = 2

[node name="MemberPortrait" type="TextureRect" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
z_index = -1
texture_filter = 1
layout_mode = 0
offset_left = 184.0
offset_top = -63.0
offset_right = 216.0
offset_bottom = -31.0
scale = Vector2(2, 2)
texture = ExtResource("2_b0yqc")
expand_mode = 1

[node name="HP" type="ProgressBar" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
layout_mode = 0
offset_left = 8.0
offset_top = 15.0
offset_right = 240.0
offset_bottom = 42.0
theme = ExtResource("2_edys4")
value = 40.0
rounded = true
show_percentage = false

[node name="AETHER" type="ProgressBar" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
layout_mode = 0
offset_left = 8.0
offset_top = 55.0
offset_right = 240.0
offset_bottom = 82.0
theme_override_styles/fill = SubResource("StyleBoxFlat_u2i3t")
max_value = 1.0
value = 1.0
show_percentage = false

[node name="HPDisplay" type="RichTextLabel" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
texture_filter = 1
texture_repeat = 1
layout_mode = 0
offset_top = 9.0
offset_right = 256.0
offset_bottom = 49.0
theme = ExtResource("3_7ko0y")
text = " 999/999
"
scroll_active = false

[node name="Name" type="RichTextLabel" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
texture_filter = 1
texture_repeat = 1
layout_mode = 0
offset_top = -39.0
offset_right = 152.0
offset_bottom = 1.0
theme = ExtResource("3_7ko0y")
text = "Auerolius
"
scroll_active = false

[node name="ManaDisplay" type="RichTextLabel" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
texture_filter = 1
layout_mode = 0
offset_left = 8.0
offset_top = 49.0
offset_right = 112.0
offset_bottom = 81.0
theme = ExtResource("3_7ko0y")
text = "100%



"
scroll_active = false

[node name="StatusContainer" type="HBoxContainer" parent="PlayerPanels/PlayerPanelsContainer/SampleMember"]
layout_mode = 0
offset_left = 8.0
offset_top = -40.0
offset_right = 127.0
offset_bottom = -24.0
scale = Vector2(2, 2)

[node name="Poisoned" type="TextureRect" parent="PlayerPanels/PlayerPanelsContainer/SampleMember/StatusContainer"]
visible = false
texture_filter = 1
custom_minimum_size = Vector2(16, 16)
layout_mode = 2
texture = ExtResource("3_ev4bj")

[node name="OrderPanel" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_left = -80.0
offset_top = 192.0
offset_bottom = 520.0
theme = ExtResource("2_edys4")

[node name="Label" type="RichTextLabel" parent="OrderPanel"]
texture_filter = 1
layout_mode = 0
offset_top = -32.0
offset_right = 128.0
offset_bottom = 8.0
theme = ExtResource("3_7ko0y")
theme_override_font_sizes/normal_font_size = 28
text = "NEXT UP:"

[node name="SecondaryPanel" type="Panel" parent="OrderPanel"]
clip_contents = true
layout_mode = 0
offset_right = 80.0
offset_bottom = 320.0
theme = ExtResource("4_6af57")

[node name="VBoxContainer" type="VBoxContainer" parent="OrderPanel/SecondaryPanel"]
clip_contents = true
layout_mode = 0
offset_left = 8.0
offset_top = 16.0
offset_right = 40.0
offset_bottom = 160.0
scale = Vector2(2, 2)

[node name="TextureRect" type="TextureRect" parent="OrderPanel/SecondaryPanel/VBoxContainer"]
visible = false
z_index = 1
texture_filter = 1
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
texture = ExtResource("2_b0yqc")
expand_mode = 1

[node name="TextureRect2" type="TextureRect" parent="OrderPanel/SecondaryPanel/VBoxContainer"]
z_index = 1
texture_filter = 1
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
texture = ExtResource("2_b0yqc")
expand_mode = 1

[node name="TextureRect3" type="TextureRect" parent="OrderPanel/SecondaryPanel/VBoxContainer"]
z_index = 1
texture_filter = 1
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
texture = ExtResource("2_b0yqc")
expand_mode = 1

[node name="TextureRect4" type="TextureRect" parent="OrderPanel/SecondaryPanel/VBoxContainer"]
z_index = 1
texture_filter = 1
custom_minimum_size = Vector2(32, 32)
layout_mode = 2
texture = ExtResource("2_b0yqc")
expand_mode = 1

[node name="PlayerDisplay" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_left = 280.0
offset_top = 304.0
offset_right = 320.0
offset_bottom = 344.0
theme = ExtResource("4_6af57")
metadata/_edit_lock_ = true

[node name="Sample" type="Panel" parent="PlayerDisplay"]
layout_mode = 0
offset_left = 32.0
offset_top = 16.0
offset_right = 40.0
offset_bottom = 24.0
theme_override_styles/panel = SubResource("StyleBoxFlat_f8xi8")

[node name="PSprite" type="AnimatedSprite2D" parent="PlayerDisplay/Sample"]
texture_filter = 1
scale = Vector2(2, 2)
sprite_frames = ExtResource("9_iopbk")
animation = &"Debug"

[node name="EnemyDisplay" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_left = 288.0
offset_top = 152.0
offset_right = 328.0
offset_bottom = 192.0
theme = ExtResource("4_6af57")

[node name="Sample" type="Panel" parent="EnemyDisplay"]
layout_mode = 0
offset_left = 592.0
offset_top = 160.0
offset_right = 632.0
offset_bottom = 200.0

[node name="PSprite" type="AnimatedSprite2D" parent="EnemyDisplay/Sample"]
texture_filter = 1
scale = Vector2(2, 2)
sprite_frames = ExtResource("8_xwmyp")
animation = &"Debug"

[node name="TextBoxPanel" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme = ExtResource("4_6af57")

[node name="Background" type="NinePatchRect" parent="TextBoxPanel"]
texture_filter = 1
layout_mode = 0
offset_top = 30.0
offset_right = 576.0
offset_bottom = 90.0
scale = Vector2(2, 2)
pivot_offset = Vector2(0, 30)
texture = ExtResource("9_bshqe")
region_rect = Rect2(2, 2, 28, 28)
patch_margin_left = 2
patch_margin_top = 2
patch_margin_right = 2
patch_margin_bottom = 2

[node name="TexboxText" type="RichTextLabel" parent="TextBoxPanel/Background"]
texture_filter = 1
layout_mode = 0
offset_left = 8.0
offset_top = 8.0
offset_right = 1080.0
offset_bottom = 104.0
scale = Vector2(0.5, 0.5)
theme = ExtResource("3_7ko0y")
theme_override_font_sizes/normal_font_size = 35
text = "eiaeogair
"

[node name="textBox" type="AudioStreamPlayer" parent="TextBoxPanel/Background/TexboxText"]
stream = ExtResource("11_jo0um")

[node name="BackgroundOverlay" type="Panel" parent="."]
visible = false
z_index = -10
layout_mode = 0
offset_right = 1168.0
offset_bottom = 648.0

[node name="Debug" type="ColorRect" parent="BackgroundOverlay"]
layout_mode = 0
offset_right = 1152.0
offset_bottom = 648.0
color = Color(0, 0.905882, 0.101961, 1)

[node name="ACertainGoddess" type="TextureRect" parent="BackgroundOverlay/Debug"]
texture_filter = 1
material = ExtResource("10_karwh")
layout_mode = 0
offset_right = 1240.0
offset_bottom = 704.0
scale = Vector2(2, 2)
texture = ExtResource("10_y4552")
stretch_mode = 2

[node name="TurnThatBrightnessDown" type="ColorRect" parent="BackgroundOverlay/Debug/ACertainGoddess"]
layout_mode = 0
offset_right = 576.0
offset_bottom = 332.0
color = Color(0.215686, 0.215686, 0.215686, 0.396078)

[node name="Select" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_6h02j")

[node name="BattleMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("16_4uec0")

[node name="BattleIntro" type="AudioStreamPlayer" parent="."]
stream = ExtResource("17_4qeh0")
